<!DOCTYPE html>
<html>
<head>
	<title>NFC-e  XML Reader</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/footer.css">
 	<link rel="stylesheet" href="css/materialBtn.css">
</head>
<body>
	<form id="Form1" method="post" enctype="multipart/form-data">
		<div id="btnDiv" style="height: 350px;">
			<div class="outerDiv">
				<img src="src/linx.png">
			</div>
			<a class="btn-posnawr" onclick="openNFCe()" href="#">NFC-e Reader<span></span></a>
			<a class="btn-posnawr" onclick="openXML()" href="#">XML Validator<span></span></a>
		</div>
		<div id="fileUploader" style="display: none; height: 350px;">
			<input style="display:none;" onchange="alterFile(this)" type="file" id="file" name="file">
			<div class="outerDiv">
				<img src="src/linx.png">
			</div>
			<a class="btn-posnawr" id="fileBtn" onclick="addFile();" href="#">Clique aqui para adicionar o arquivo<span></span></a>
			<a class="btn-posnawr" onclick="backToHome()" href="#">Voltar<span></span></a>
			  <button onclick="active()" class="">
			    <span>Submit</span>
			    <div class="success">
			    <svg xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"  viewBox="0 0 29.756 29.756" style="enable-background:new 0 0 29.756 29.756;" xml:space="preserve">
				<path d="M29.049,5.009L28.19,4.151c-0.943-0.945-2.488-0.945-3.434,0L10.172,18.737l-5.175-5.173   c-0.943-0.944-2.489-0.944-3.432,0.001l-0.858,0.857c-0.943,0.944-0.943,2.489,0,3.433l7.744,7.752   c0.944,0.943,2.489,0.943,3.433,0L29.049,8.442C29.991,7.498,29.991,5.953,29.049,5.009z"/>
			 	</svg>
			      </div>
			  </button>
		</div>
	</form>

	<footer style="padding-top: 40px;" class="new_footer_area bg_color">
	    <div class="new_footer_top">
	        <div class="container">
	        </div>
	        <div class="footer_bg">
	            <div class="footer_bg_one"></div>
	            <div class="footer_bg_two"></div>
	        </div>
	    </div>
	    <div class="footer_bottom">
	        <div class="container">
	            <div class="row align-items-center">
	                <div class="col-lg-6 col-sm-7">
	                    <p class="mb-0 f_400">Ramiro Grisa / ramiro.grisa@linx.com.br</p>
	                </div>
	                <div class="col-lg-6 col-sm-5 text-right">
	                    <p>Made by <i class="icon_heart"></i><a href="#">Linx</a></p>
	                </div>
	            </div>
	        </div>
	    </div>
	</footer>
</body>
<script src="js/materialBtn.js"></script>
<script type="text/javascript">

	var sendType = 0;

	function addFile() {
		document.getElementById("file").click();
	}

	function alterFile(el) {
		let fileString = el.value;
		fileString = fileString.replace("C:\\fakepath\\", "");
		if (fileString != "") {
			document.getElementById("fileBtn").innerHTML = fileString+"<span></span>";
		} else {
			document.getElementById("fileBtn").innerHTML = "Clique aqui para adicionar o arquivo<span></span>";
		}
	}

	function active() {
		document.querySelector("button").classList.toggle("is_active");
		let form = document.getElementById("Form1");
		if (document.getElementById("file").value != "") {
			if (sendType == 1) {
				form.action = "php/nfce.php";
			} else {
				form.action = "php/xml.php";
			}

			form.submit();
		}
	}

	function openNFCe() {
		document.getElementById("fileUploader").style.display = 'block';
		document.getElementById("btnDiv").style.display = 'none';
		sendType = 1;
	}

	function openXML() {
		document.getElementById("fileUploader").style.display = 'block';
		document.getElementById("btnDiv").style.display = 'none';
		sendType = 2;
	}

	function backToHome() {
		document.getElementById("fileUploader").style.display = 'none';
		document.getElementById("btnDiv").style.display = 'block';
		sendType = 0;
	}

</script>
</html>

